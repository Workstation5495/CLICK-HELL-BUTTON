<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>THE HELL BUTTON?</title>
    <style>
        body {
            font-family: 'Comic Sans MS', cursive;
            background: #ff00ff;
            color: #00ff00;
            text-align: center;
            margin: 0;
            overflow: hidden;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .level {
            display: none;
            background: white;
            border: 10px solid black;
            padding: 30px;
            width: 450px;
            color: black;
            box-shadow: 20px 20px 0px #000;
        }

        .active { display: block; }

        input { display: block; margin: 10px auto; padding: 10px; width: 80%; border: 3px solid red; }
        
        button {
            background: yellow;
            border: 3px solid black;
            padding: 15px;
            font-weight: bold;
            cursor: pointer;
            font-size: 18px;
            transition: 0.1s;
        }

        #progress-container {
            width: 100%;
            height: 30px;
            background: #eee;
            border: 2px solid #000;
            margin: 20px 0;
        }

        #progress-bar {
            width: 0%;
            height: 100%;
            background: red;
        }

        #jumpBtn { position: absolute; }
        
        .shake { animation: shake 0.5s infinite; }
        @keyframes shake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            20% { transform: translate(-3px, 0px) rotate(1deg); }
            40% { transform: translate(3px, 2px) rotate(-1deg); }
            100% { transform: translate(1px, -2px) rotate(0deg); }
        }
    </style>
</head>
<body onclick="playAnnoyingSound()">

    <div id="lvl1" class="level active">
        <h1 class="shake">STEP 1: LOGIN</h1>
        <p>Type your name (if you can!)</p>
        <input type="text" placeholder="Your Name" oninput="this.value='ERROR ' + Math.random().toString(36).substring(7)">
        <button onclick="nextLevel(2)">SUBMIT</button>
    </div>

    <div id="lvl2" class="level">
        <h1>STEP 2: AGILITY</h1>
        <p id="clickTask">Click 50 times to prove you're fast!</p>
        <button id="jumpBtn" onclick="catchBtn()">CLICK ME!</button>
    </div>

    <div id="lvl3" class="level">
        <h1>STEP 3: IQ 200</h1>
        <p>You have 5 seconds for each!</p>
        <h2 id="q">123 * 4 = ?</h2>
        <input type="number" id="ans">
        <button onclick="checkMath()">GO!</button>
    </div>

    <div id="lvl4" class="level">
        <h1>STEP 4: PATIENCE</h1>
        <p>HOLD to 100%. Don't release or it's 0%!</p>
        <div id="progress-container">
            <div id="progress-bar"></div>
        </div>
        <h3 id="status">DO IT!</h3>
        <button onmousedown="startHold()" onmouseup="stopHold()" onmouseleave="stopHold()">HOLD ME FOR 15 SECONDS</button>
    </div>

    <div id="lvl5" class="level">
        <h1>VICTORY!</h1>
        <p>You are the most patient human on Earth.</p>
        <h1 style="font-size: 80px;">üèÜ</h1>
        <button onclick="location.reload()">REPLAY THE NIGHTMARE</button>
    </div>

    <script>
        let clicks = 50;
        let progress = 0;
        let holdTimer;
        let audioCtx = new (window.AudioContext || window.webkitAudioContext)();

        // –ë–µ—Å—è—á–∏–π –∑–≤—É–∫
        function playAnnoyingSound(freq = 440) {
            let osc = audioCtx.createOscillator();
            let gain = audioCtx.createGain();
            osc.type = 'sawtooth';
            osc.frequency.setValueAtTime(freq, audioCtx.currentTime);
            gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
            osc.connect(gain);
            gain.connect(audioCtx.destination);
            osc.start();
            osc.stop(audioCtx.currentTime + 0.1);
        }

        function nextLevel(n) {
            playAnnoyingSound(600);
            document.querySelectorAll('.level').forEach(l => l.classList.remove('active'));
            document.getElementById('lvl' + n).classList.add('active');
            if(n === 2) {
                let btn = document.getElementById('jumpBtn');
                btn.style.left = '50%'; btn.style.top = '50%';
            }
        }

        // LVL 2
        function catchBtn() {
            clicks--;
            playAnnoyingSound(800 + (Math.random() * 500));
            document.getElementById('clickTask').innerText = "Left: " + clicks;
            let x = Math.random() * (window.innerWidth - 150);
            let y = Math.random() * (window.innerHeight - 150);
            let btn = document.getElementById('jumpBtn');
            btn.style.left = x + 'px';
            btn.style.top = y + 'px';
            if(clicks <= 0) nextLevel(3);
        }

        // LVL 3
        function checkMath() {
            let val = document.getElementById('ans').value;
            if(val == "492") {
                nextLevel(4);
            } else {
                playAnnoyingSound(100);
                alert("WRONG! BYE BYE!");
                location.reload();
            }
        }

        // LVL 4
        function startHold() {
            document.getElementById('status').innerText = "HOLDING...";
            holdTimer = setInterval(() => {
                if(progress < 98) progress += 0.8;
                else progress += 0.05; // –°–≤–µ—Ä—Ö-–º–µ–¥–ª–µ–Ω–Ω–æ –≤ –∫–æ–Ω—Ü–µ

                document.getElementById('progress-bar').style.width = progress + "%";
                playAnnoyingSound(200 + progress * 5); // –ó–≤—É–∫ —Ä–∞—Å—Ç–µ—Ç –ø–æ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

                if(progress >= 100) {
                    clearInterval(holdTimer);
                    nextLevel(5);
                }
            }, 100);
        }

        function stopHold() {
            clearInterval(holdTimer);
            if(progress < 100) {
                playAnnoyingSound(50);
                progress = 0;
                document.getElementById('progress-bar').style.width = "0%";
                document.getElementById('status').innerText = "FALIED! HOLD AGAIN!";
            }
        }
    </script>
</body>
</html>
